# Game Presets

- type: gamePreset
  id: BreakHome
  alias:
  - breakhome
  - home
  name: breakhome-title
  description: breakhome-description
  supportedMaps: HomeMapPool
  rules: []

- type: gamePreset
  id: BreakHideout
  alias:
  - breakhideout
  - hideout
  name: breakhideout-title
  description: breakhideout-description
  supportedMaps: HideoutMapPool
  rules: []

# Game Map Pools

- type: gameMapPool
  id: HomeMapPool
  maps:
  - Infinity # TODO

- type: gameMapPool
  id: HideoutMapPool
  maps:
  - Infinity # TODO

# Floors

- type: tile
  id: FloorBreakLatticeHorizontal
  name: tiles-break-lattice-horizontal
  sprite: /Textures/_SHA/Tiles/break-lattice-horizontal.png
  baseTurf: Plating
  isSubfloor: false
  footstepSounds:
    collection: FootstepTile
  heatCapacity: 10000

- type: tile
  id: FloorBreakLatticeVertical
  name: tiles-break-lattice-vertical
  sprite: /Textures/_SHA/Tiles/break-lattice-vertical.png
  baseTurf: Plating
  isSubfloor: false
  footstepSounds:
    collection: FootstepTile
  heatCapacity: 10000

- type: tile
  id: FloorBreakLatticeBalcony
  name: tiles-break-lattice-balcony
  sprite: /Textures/_SHA/Tiles/break-lattice-balcony.png
  baseTurf: Plating
  isSubfloor: false
  footstepSounds:
    collection: FootstepTile
  heatCapacity: 10000

# Tiles

- type: entity
  parent: BaseItem
  id: FloorTileItemBreakLatticeHorizontal
  name: break's lattice (horizontal)
  components:
  - type: Sprite
    sprite: /Textures/_SHA/Objects/Tiles/tile.rsi
    state: break-lattice-horizontal
  - type: FloorTile
    outputs:
    - Plating
    - FloorBreakLatticeHorizontal

- type: entity
  parent: FloorTileItemBreakLatticeHorizontal
  id: FloorTileItemBreakLatticeVertical
  name: break's lattice (vertical)
  components:
  - type: Sprite
    sprite: /Textures/_SHA/Objects/Tiles/tile.rsi
    state: break-lattice-vertical
  - type: FloorTile
    outputs:
    - Plating
    - FloorBreakLatticeVertical

- type: entity
  parent: FloorTileItemBreakLatticeHorizontal
  id: FloorTileItemBreakLatticeBalcony
  name: break's lattice (Balcony)
  components:
  - type: Sprite
    sprite: /Textures/_SHA/Objects/Tiles/tile.rsi
    state: break-lattice-balcony
  - type: FloorTile
    outputs:
    - Plating
    - FloorBreakLatticeBalcony

# Decals

- type: decal
  id: MonoTileSomberDarkTrimN
  parent: MonoTileSomberDark
  tags: ["station", "markings"]
  sprite:
    sprite: _SHA/Decals/monotile_somber_dark.rsi
    state: steel_trim_n

- type: decal
  id: MonoTileSomberDarkTrimS
  parent: MonoTileSomberDark
  tags: ["station", "markings"]
  sprite:
    sprite: _SHA/Decals/monotile_somber_dark.rsi
    state: steel_trim_s

# Pool water

- type: entity
  parent: FloorWaterEntity
  id: PenthousePoolWater
  name: penthouse pool
  description: "So deep that no one must live on the floor below, this pool is kept heated to a comfortable temperature."
  placement:
    mode: SnapgridCenter
    snap:
    - Wall
  components:
  - type: FloorOccluder
  - type: Transform
    anchored: true
  - type: SyncSprite
  - type: Clickable
  - type: Sprite
    sprite: _SHA/Tiles/Planet/water.rsi
    drawdepth: BelowFloor
    layers:
      - state: pool_water
  - type: SpeedModifierContacts
    walkSpeedModifier: 1
    sprintSpeedModifier: 0.75
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.4,0.1,0.4,0.4"
        layer:
          - SlipLayer
        mask:
          - ItemMask
        density: 1000
        hard: false
  - type: InteractionVerbs
    allowedVerbs:
    - LickObject

- type: entity
  parent: PenthousePoolWater
  id: PenthousePoolWaterLeft
  suffix: Left
  components:
  - type: Sprite
    sprite: _SHA/Tiles/Planet/water.rsi
    drawdepth: BelowFloor
    layers:
      - state: pool_water_left
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "0,0.1,0.4,0.4"
        layer:
          - SlipLayer
        mask:
          - ItemMask
        density: 1000
        hard: false

- type: entity
  parent: PenthousePoolWater
  id: PenthousePoolWaterRight
  suffix: Right
  components:
  - type: Sprite
    sprite: _SHA/Tiles/Planet/water.rsi
    drawdepth: BelowFloor
    layers:
      - state: pool_water_right
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.4,0.1,0,0.4"
        layer:
          - SlipLayer
        mask:
          - ItemMask
        density: 1000
        hard: false

# Diagonal windows

- type: entity
  parent: WindowSomberDiagonal
  id: WindowSomberDiagonalFramedLeftEnd
  name: somber window
  suffix: Diagonal, Framed, Left End
  components:
  - type: Sprite
    sprite: _SHA/Structures/Windows/Somber/somber_diagonal_framed_left_end.rsi
  - type: Icon
    sprite: _SHA/Structures/Windows/Somber/somber_diagonal_framed_left_end.rsi
  - type: IconSmooth
    mode: Diagonal
    key: walls
    base: state

- type: entity
  parent: WindowSomberDiagonal
  id: WindowSomberDiagonalFramedRightEnd
  name: somber window
  suffix: Diagonal, Framed, Right End
  components:
  - type: Sprite
    sprite: _SHA/Structures/Windows/Somber/somber_diagonal_framed_right_end.rsi
  - type: Icon
    sprite: _SHA/Structures/Windows/Somber/somber_diagonal_framed_right_end.rsi
  - type: IconSmooth
    mode: Diagonal
    key: walls
    base: state

- type: entity
  parent: WindowSomberDiagonal
  id: WindowSomberDarkDiagonalFramedLeftEnd
  name: somber window
  suffix: Dark, Diagonal, Framed, Left End
  components:
  - type: Sprite
    sprite: _SHA/Structures/Windows/Somber/somberdark_diagonal_framed_left_end.rsi
  - type: Icon
    sprite: _SHA/Structures/Windows/Somber/somberdark_diagonal_framed_left_end.rsi
    mode: Diagonal
    key: walls
    base: state

- type: entity
  parent: WindowSomberDiagonal
  id: WindowSomberDarkDiagonalFramedRightEnd
  name: somber window
  suffix: Dark, Diagonal, Framed, Right End
  components:
  - type: Sprite
    sprite: _SHA/Structures/Windows/Somber/somberdark_diagonal_framed_right_end.rsi
  - type: Icon
    sprite: _SHA/Structures/Windows/Somber/somberdark_diagonal_framed_right_end.rsi
  - type: IconSmooth
    mode: Diagonal
    key: walls
    base: state

# Railings

- type: entity
  parent: Railing
  id: RailingStrong
  name: strong railing
  description: "Durable railing meant to protect idiots like you from falling."
  components:
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: StrongMetallic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 1000
      behaviors:
        - !type:DoActsBehavior
          acts: [ "Destruction" ]

- type: entity
  parent: RailingStrong
  id: RailingSomber
  name: somber railing
  components:
  - type: Sprite
    drawdepth: WallTops
    sprite: _SHA/Structures/Walls/railing.rsi
    state: side
  - type: Icon
    sprite: _SHA/Structures/Walls/railing.rsi
    state: side
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.49,-0.49,0.49,-0.375"
        density: 1000
        mask:
        - TableMask
        layer:
        - TableLayer

- type: entity
  parent: RailingStrong
  id: RailingSomberCorner
  name: somber railing
  components:
  - type: Sprite
    drawdepth: WallTops
    sprite: _SHA/Structures/Walls/railing.rsi
    state: corner
  - type: Icon
    sprite: _SHA/Structures/Walls/railing.rsi
    state: corner
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.49,-0.49,0.49,-0.375"
        density: 1000
        mask:
        - TableMask
        layer:
        - TableLayer
      fix2:
        shape:
          !type:PhysShapeAabb
          bounds: "0.49,0.49,0.375,-0.49"
        density: 1000
        mask:
        - TableMask
        layer:
        - TableLayer

- type: entity
  parent: RailingStrong
  id: RailingSomberCornerSmall
  name: somber railing
  components:
  - type: Sprite
    drawdepth: WallTops
    sprite: _SHA/Structures/Walls/railing.rsi
    state: corner_small
  - type: Icon
    sprite: _SHA/Structures/Walls/railing.rsi
    state: corner_small
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.49,0.49,-0.375,0.375"
        density: 1000
        mask:
        - TableMask
        layer:
        - TableLayer

- type: entity
  parent: RailingStrong
  id: RailingSomberRound
  name: somber railing
  components:
  - type: Sprite
    drawdepth: WallTops
    sprite: _SHA/Structures/Walls/railing.rsi
    state: round
  - type: Icon
    sprite: _SHA/Structures/Walls/railing.rsi
    state: round
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.49,-0.49,0.49,-0.375"
        density: 1000
        mask:
          - TableMask
        layer:
          - TableLayer
      fix2:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.49,-0.49,-0.375,0.49"
        density: 1000
        mask:
          - TableMask
        layer:
          - TableLayer
      fix3:
        shape:
          !type:PhysShapeAabb
          bounds: "0.375,-0.49,0.49,0.49"
        density: 1000
        mask:
          - TableMask
        layer:
          - TableLayer

- type: entity
  parent: RailingStrong
  id: RailingInvisible
  name: invisible railing
  description: "You're an idiot. You'll fall. Get back."
  components:
  - type: Sprite
    drawdepth: WallTops
    sprite: _SHA/Structures/Walls/railing.rsi
    state: invisible
  - type: Icon
    sprite: _SHA/Structures/Walls/railing.rsi
    state: invisible
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.49,-0.49,0.49,-0.375"
        density: 1000
        mask:
        - TableMask
        layer:
        - TableLayer

# TV stuff

- type: entity
  parent: BaseStructure
  id: PenthouseTV
  name: penthouse television
  description: "A futuristic frame television with a textured, shifting surface, set to freeze its last image in faux mnemolith--a bleeding sun breaking through clouds, this time. This thing must be ungodly expensive."
  components:
  - type: Sprite
    sprite: _SHA/Structures/Wallmounts/penthousetv.rsi
    drawdepth: WallMountedItems
    layers:
    - state: tv
    - state: tvglow
      shader: unshaded
      visible: false
      map: [ "light" ]
  - type: ToggleableVisuals
    spriteLayer: light
  - type: Appearance
  - type: Anchorable
  - type: InteractionOutline
  - type: PointLight
    enabled: false
    radius: 4
    energy: 6
    softness: 1.1
    color: "#ffa054"
  - type: ItemTogglePointLight
  - type: ItemToggle
    predictable: false
    soundActivate:
      path: /Audio/_DEN/Effects/crystaltap1.ogg
      params:
        volume: -6
        pitch: 0.35
    soundDeactivate:
      path: /Audio/_DEN/Effects/crystaltap2.ogg
      params:
        volume: -6
        pitch: 0.35
  - type: UnpoweredFlashlight
  - type: WallMount
    arc: 360
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-1.5,-0.375,1.5,0.375"
        hard: false
        density: 1000
        mask:
          - FullTileMask
        layer:
          - WallLayer
  - type: Transform
    anchored: true
  - type: MeleeSound
    soundGroups:
      Brute:
        collection: GlassSmack
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StructuralMetallicStrong
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 600
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
    - trigger:
        !type:DamageTrigger
        damage: 400
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: GlassSmash
      - !type:SpawnEntitiesBehavior
        spawn:
          SheetSteel1:
            min: 3
            max: 3
          SheetGlass1:
            min: 3
            max: 3
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: DeviceNetwork
    deviceNetId: Wireless
    receiveFrequencyId: SmartLight
  - type: WirelessNetworkConnection
    range: 200
  - type: DeviceLinkSink
    ports:
      - On
      - Off
      - Toggle
  - type: PoweredLightVisuals
    blinkingSound:
      path: "/Audio/Machines/light_tube_on.ogg"
    spriteStateMap:
      off: tv
      on: tv
  - type: InteractionVerbs
    allowedVerbs:
    - KnockOn
    - KissObject
    - LickObject

- type: entity
  parent: WindowSomber
  id: PenthouseTVSpeakerWindowLeft
  name: penthouse sound system
  description: "A sleek surround speaker in brushed metal. This sound system could probably blow the windows out."
  suffix: TV, Window, Left
  components:
  - type: Sprite
    sprite: _SHA/Structures/Windows/Somber/penthousetvwindows.rsi
    state: left
  - type: Icon
    sprite: _SHA/Structures/Windows/Somber/penthousetvwindows.rsi
    state: left
  - type: IconSmooth
    key: walls
    mode: NoSprite

- type: entity
  parent: PenthouseTVSpeakerWindowLeft
  id: PenthouseTVSpeakerWindowRight
  suffix: TV, Window, Right
  components:
  - type: Sprite
    sprite: _SHA/Structures/Windows/Somber/penthousetvwindows.rsi
    state: right
  - type: Icon
    sprite: _SHA/Structures/Windows/Somber/penthousetvwindows.rsi
    state: right

- type: entity
  parent: WindowSomberDirectional
  id: PenthouseTVSpeakerBig
  name: penthouse sound system
  description: "A sleek surround speaker in brushed metal. This sound system could probably blow the windows out."
  suffix: TV, Window, Attachment
  components:
  - type: Sprite
    sprite: _SHA/Structures/Windows/Somber/penthousetvspeakers.rsi
    state: wallspeakerbig
  - type: Icon
    sprite: _SHA/Structures/Windows/Somber/penthousetvspeakers.rsi
    state: wallspeakerbig
  - type: MeleeSound
    soundGroups:
      Brute:
        collection: MetalThud
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StructuralMetallicStrong
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 600
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
    - trigger:
        !type:DamageTrigger
        damage: 400
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalSlam
      - !type:SpawnEntitiesBehavior
        spawn:
          SheetSteel1:
            min: 1
            max: 1
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: InteractionVerbs
    allowedVerbs:
    - KnockOn
    - HugObject
    - PetObject
    - KissObject
    - LickObject

- type: entity
  parent: PenthouseTVSpeakerBig
  id: PenthouseTVSpeakerSteel
  name: penthouse sound system
  description: "A sleek surround speaker in brushed metal. This sound system could probably blow the windows out."
  suffix: TV, Steel
  components:
  - type: Sprite
    sprite: _SHA/Structures/Windows/Somber/penthousetvspeakers.rsi
    state: wallspeakersteel
  - type: Icon
    sprite: _SHA/Structures/Windows/Somber/penthousetvspeakers.rsi
    state: wallspeakersteel

- type: entity
  parent: PenthouseTVSpeakerBig
  id: PenthouseTVSpeakerMnemolith
  name: penthouse sound system
  description: "A sleek surround speaker in brushed metal. This sound system could probably blow the windows out."
  suffix: TV, Mnemolith
  components:
  - type: Sprite
    sprite: _SHA/Structures/Windows/Somber/penthousetvspeakers.rsi
    state: wallspeakermnemolith
  - type: Icon
    sprite: _SHA/Structures/Windows/Somber/penthousetvspeakers.rsi
    state: wallspeakermnemolith

# Furniture

- type: entity
  parent: SomberPsychBed
  id: SomberPsychBedFlipped
  suffix: Flipped
  components:
  - type: Sprite
    sprite: _SHA/Structures/Furniture/furniture.rsi
    state: somberpsychbed
  - type: Strap
    position: Down
    rotation: 90

# Big fancy beds

- type: entity
  parent: BaseStructure
  id: BedPenthouseLower
  name: penthouse bed
  description: "A huge, plush bed draped in silky sheets."
  suffix: Fancy, Lower
  components:
  - type: HealOnBuckle
    damage:
      types:
        Poison: -1
        Cold: -1
        Blunt: -1
  - type: Physics
    bodyType: Static
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.45,0.0,0.45,0.5"
        density: 190
        mask:
        - TableMask
  - type: Sprite
    sprite: _SHA/Structures/Furniture/furniture-64x32.rsi
    state: bedlower
    noRot: true
  - type: Strap
    position: Down
    rotation: -90
    buckleOffset: "-.1,0.29"
  - type: Transform
    anchored: true
    noRot: true
  - type: Anchorable
  - type: Pullable
  - type: InteractionVerbs
    allowedVerbs:
    - HugObject
    - PetObject
    - KissObject
    - LickObject

- type: entity
  parent: BedPenthouseLower
  id: BedPenthouseUpper
  suffix: Fancy, Upper
  components:
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.45,0.5,0.45,0.0"
        density: 190
        mask:
        - TableMask
  - type: Sprite
    state: bedupper
    noRot: true
  - type: Strap
    position: Down
    rotation: -90
    buckleOffset: "-.1,-0.08"

- type: entity
  parent: BedPenthouseLower
  id: BedPenthouseLowerFlipped
  suffix: Fancy, Flipped, Lower
  components:
  - type: Sprite
    state: bedlowerflipped
    noRot: true
  - type: Strap
    position: Down
    rotation: 90
    buckleOffset: ".1,0.29"

- type: entity
  parent: BedPenthouseUpper
  id: BedPenthouseUpperFlipped
  suffix: Fancy, Flipped, Upper
  components:
  - type: Sprite
    state: bedupperflipped
    noRot: true
  - type: Strap
    position: Down
    rotation: 90
    buckleOffset: ".1,-0.08"

# Big basic beds

- type: entity
  parent: BedPenthouseLower
  id: BedPenthouseLowerBasic
  name: penthouse bed
  description: "A huge, plush bed draped in warm sheets."
  suffix: Basic, Lower
  components:
  - type: Sprite
    state: bedlowerbasic
    noRot: true

- type: entity
  parent: BedPenthouseUpper
  id: BedPenthouseUpperBasic
  name: penthouse bed
  description: "A huge, plush bed draped in warm sheets."
  suffix: Basic, Upper
  components:
  - type: Sprite
    state: bedupperbasic
    noRot: true

- type: entity
  parent: BedPenthouseLowerFlipped
  id: BedPenthouseLowerBasicFlipped
  name: penthouse bed
  description: "A huge, plush bed draped in warm sheets."
  suffix: Basic, Flipped, Lower
  components:
  - type: Sprite
    state: bedlowerbasicflipped
    noRot: true

- type: entity
  parent: BedPenthouseUpperFlipped
  id: BedPenthouseUpperBasicFlipped
  name: penthouse bed
  description: "A huge, plush bed draped in warm sheets."
  suffix: Basic, Flipped, Upper
  components:
  - type: Sprite
    state: bedupperbasicflipped
    noRot: true

# Small fancy beds

- type: entity
  parent: BaseStructure
  id: BedPenthouseSmall
  name: penthouse bed
  description: "A plush bed draped in silky sheets."
  suffix: Small, Fancy
  components:
  - type: HealOnBuckle
    damage:
      types:
        Poison: -1
        Cold: -1
        Blunt: -1
  - type: Physics
    bodyType: Static
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.45,0.45,0.45,0.0"
        density: 190
        mask:
        - TableMask
  - type: Sprite
    sprite: _SHA/Structures/Furniture/furniture.rsi
    state: bed
    noRot: true
  - type: Strap
    position: Down
    rotation: -90
    buckleOffset: "0.02,0"
  - type: Transform
    anchored: true
    noRot: true
  - type: Anchorable
  - type: Pullable
  - type: InteractionVerbs
    allowedVerbs:
    - HugObject
    - PetObject
    - KissObject
    - LickObject

- type: entity
  parent: BedPenthouseSmall
  id: BedPenthouseSmallFlipped
  suffix: Small, Fancy, Flipped
  components:
  - type: Sprite
    state: bedflipped
    noRot: true
  - type: Strap
    position: Down
    rotation: 90
    buckleOffset: "-0.02,0"

# Small basic beds

- type: entity
  parent: BedPenthouseSmall
  id: BedPenthouseSmallBasic
  description: "A plush bed draped in warm sheets."
  suffix: Small, Basic
  components:
  - type: Sprite
    state: bedbasic
    noRot: true

- type: entity
  parent: BedPenthouseSmallFlipped
  id: BedPenthouseSmallBasicFlipped
  suffix: Small, Basic, Flipped
  components:
  - type: Sprite
    state: bedbasicflipped
    noRot: true
  - type: Strap
    position: Down
    rotation: 90
