# SPDX-FileCopyrightText: 2025 Rosycup
# SPDX-FileCopyrightText: 2025 portfiend
# SPDX-FileCopyrightText: 2025 sleepyyapril
#
# SPDX-License-Identifier: AGPL-3.0-or-later AND MIT

- type: entity
  abstract: true
  parent: FoodInjectableBase
  id: FoodCoupeGlassBase
  components:
  - type: Food
    trash:
    - DrinkGlassCoupeShaped
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: Glass
  - type: DamageOnLand
    ignoreResistances: true
    damage:
      types:
        Blunt: 5
  - type: DamageOtherOnHit
    damage:
      types:
        Blunt: 5
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 5
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: GlassBreak
          params:
            volume: -8
      - !type:SpillBehavior { }
      - !type:SpawnEntitiesBehavior
        spawn:
          ShardGlass:
            min: 1
            max: 1
      - !type:DoActsBehavior
        acts: [ "Destruction" ]

- type: entity
  name: lasagne
  parent: FoodMealBase
  id: FoodLasagne
  description: Layered sheets of pasta with meat and cheese fillings. Makes you hate the mondays.
  components:
  - type: FlavorProfile
    flavors:
      - pasta
      - meaty
      - cheesy
  - type: Sprite
    sprite: _DEN/Objects/Consumable/Food/meals.rsi
    state: redlasagne
  - type: Food
    trash:
    - FoodPlate
  - type: SliceableFood
    count: 6
    slice: FoodLasagneSlice
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 30
        reagents:
        - ReagentId: Nutriment
          Quantity: 18
        - ReagentId: Protein
          Quantity: 6
        - ReagentId: Vitamin
          Quantity: 6
  - type: Tag
    tags:
    - Meat

- type: entity
  name: lasagne slice # DEN: lasagne -> lasagne slice
  parent: FoodMealBase
  id: FoodLasagneSlice
  description: A slice of meaty, cheesy lasagne.
  components:
  - type: FlavorProfile
    flavors:
      - pasta
      - meaty
      - cheesy
  - type: Sprite
    sprite: _DEN/Objects/Consumable/Food/meals.rsi
    state: redlasagne-slice
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 6
        reagents:
        - ReagentId: Nutriment
          Quantity: 3
        - ReagentId: Protein
          Quantity: 1
        - ReagentId: Vitamin
          Quantity: 1
  - type: Tag
    tags:
    - Meat
  - type: Item # DEN: Make tiny
    size: Tiny

- type: entity
  parent: FoodCoupeGlassBase
  id: FoodMealCocktailShrimp
  name: shrimp cocktail
  description: Shelled, cooked shrimp served with cocktail sauce on a cocktail glass.
  components:
  - type: FlavorProfile
    flavors:
    - tangy
    - shrimp
  - type: Sprite
    sprite: _DEN/Objects/Consumable/Food/bowl.rsi # TODO: Shrimp sprite
    state: dinuguan
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 40
        # nutriment: 6u (shrimp) + 6u (bonus) = 12u
        # protein: 10u (shrimp) + 2u (bonus) = 12u
        # plus 10u of cocktail sauce
        # 12 + 12 + 10 = 34u
        reagents:
        - ReagentId: Nutriment
          Quantity: 12
        - ReagentId: Protein
          Quantity: 12
        - ReagentId: CocktailSauce
          Quantity: 10
  - type: Tag
    tags:
    - Meat

- type: entity
  parent: FoodMealBase
  id: FoodMealShrimpNigiri
  name: shrimp nigiri
  description: A bite-sized serving of butterflied shrimp over rice.
  components:
  - type: FlavorProfile
    flavors:
    - shrimp
    - rice
  - type: Sprite
    sprite: _DEN/Objects/Consumable/Food/bowl.rsi # TODO: Shrimp sprite
    state: dinuguan
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 20
        # nutriment: 3u (shrimp) + 7u (bonus) = 10u
        # protein: 5u (shrimp)
        # 10 + 5 = 15u
        reagents:
        - ReagentId: Nutriment
          Quantity: 10
        - ReagentId: Protein
          Quantity: 5
  - type: Tag
    tags:
    - Meat

- type: entity
  parent: FoodNoodlesBase
  id: FoodNoodlesShrimpScampi
  name: shrimp scampi
  description: Actually named after a specific kind of lobster, but who cares?
  components:
  - type: FlavorProfile
    flavors:
    - pasta
    - shrimp
    - garlic
  - type: Sprite
    sprite: _DEN/Objects/Consumable/Food/bowl.rsi # TODO: Shrimp sprite
    state: dinuguan
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 55
        # nutriment: 3u (shrimp) + 20u (noodles) + 10u (garlic) = 33u
        # vitamin: 4u (garlic) + 4u (bonus) = 8u
        # protein: 5u (shrimp)
        # allicin: 4u (garlic)
        # 33 + 8 + 5 + 4 = 50
        reagents:
        - ReagentId: Nutriment
          Quantity: 33
        - ReagentId: Vitamin
          Quantity: 8
        - ReagentId: Protein
          Quantity: 5
        - ReagentId: Allicin
          Quantity: 4
  - type: Tag
    tags:
    - Meat

# snackish foods

- type: entity
  parent: FoodMealBase
  id: FoodMealUkoy
  name: ukoy
  description: A fritter made from shrimp, onions, and other vegetables.
  components:
  - type: FlavorProfile
    flavors:
    - shrimp
    - onion
    - oily
  - type: Sprite
    sprite: _DEN/Objects/Consumable/Food/bowl.rsi # TODO: Shrimp sprite
    state: dinuguan
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 25
        # nutriment: 3u (shrimp) + 2u (onion slice) + 4u (bonus) = 9u
        # vitamin: 1u (onion slice) + 4u (carrot) = 5u
        # protein: 5u (shrimp) = 5u
        # allicin: 1u (onion slice)
        # 9 + 5 + 5 + 1 = 20u
        reagents:
        - ReagentId: Nutriment
          Quantity: 9
        - ReagentId: Vitamin
          Quantity: 5
        - ReagentId: Protein
          Quantity: 5
        - ReagentId: Allicin
          Quantity: 1
  - type: Tag
    tags:
    - Meat

- type: entity
  parent: FoodMealBase
  id: FoodMealShrimpCake
  name: shrimp cake
  description: Not quite a dessert like other cakes, but the crispy exterior is a treat of its own.
  components:
  - type: FlavorProfile
    flavors:
    - shrimp
  - type: Sprite
    sprite: _DEN/Objects/Consumable/Food/bowl.rsi # TODO: Shrimp sprite
    state: dinuguan
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 20
        # nutriment: 3u (shrimp) + 4u (bread) + 1u (bonus) = 8u
        # protein: 5u (shrimp) + 2u (bonus) = 7u
        # 8u + 7u = 15
        reagents:
        - ReagentId: Nutriment
          Quantity: 8
        - ReagentId: Protein
          Quantity: 7
  - type: Tag
    tags:
    - Meat
