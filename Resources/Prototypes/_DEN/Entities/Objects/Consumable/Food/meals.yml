# SPDX-FileCopyrightText: 2025 Rosycup
# SPDX-FileCopyrightText: 2025 portfiend
# SPDX-FileCopyrightText: 2025 sleepyyapril
#
# SPDX-License-Identifier: AGPL-3.0-or-later AND MIT

- type: entity
  abstract: true
  parent: FoodInjectableBase
  id: FoodCoupeGlassBase
  components:
  - type: Food
    trash:
    - DrinkGlassCoupeShaped
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: Glass
  - type: DamageOnLand
    ignoreResistances: true
    damage:
      types:
        Blunt: 5
  - type: DamageOtherOnHit
    damage:
      types:
        Blunt: 5
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 5
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: GlassBreak
          params:
            volume: -8
      - !type:SpillBehavior { }
      - !type:SpawnEntitiesBehavior
        spawn:
          ShardGlass:
            min: 1
            max: 1
      - !type:DoActsBehavior
        acts: [ "Destruction" ]

- type: entity
  name: lasagne
  parent: FoodMealBase
  id: FoodLasagne
  description: Layered sheets of pasta with meat and cheese fillings. Makes you hate the mondays.
  components:
  - type: FlavorProfile
    flavors:
      - pasta
      - meaty
      - cheesy
  - type: Sprite
    sprite: _DEN/Objects/Consumable/Food/meals.rsi
    state: redlasagne
  - type: Food
    trash:
    - FoodPlate
  - type: SliceableFood
    count: 6
    slice: FoodLasagneSlice
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 30
        reagents:
        - ReagentId: Nutriment
          Quantity: 18
        - ReagentId: Protein
          Quantity: 6
        - ReagentId: Vitamin
          Quantity: 6
  - type: Tag
    tags:
    - Meat

- type: entity
  name: lasagne slice # DEN: lasagne -> lasagne slice
  parent: FoodMealBase
  id: FoodLasagneSlice
  description: A slice of meaty, cheesy lasagne.
  components:
  - type: FlavorProfile
    flavors:
      - pasta
      - meaty
      - cheesy
  - type: Sprite
    sprite: _DEN/Objects/Consumable/Food/meals.rsi
    state: redlasagne-slice
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 6
        reagents:
        - ReagentId: Nutriment
          Quantity: 3
        - ReagentId: Protein
          Quantity: 1
        - ReagentId: Vitamin
          Quantity: 1
  - type: Tag
    tags:
    - Meat
  - type: Item # DEN: Make tiny
    size: Tiny

- type: entity
  parent: FoodCoupeGlassBase
  id: FoodMealCocktailShrimp
  name: shrimp cocktail
  description: Shelled, cooked shrimp served with cocktail sauce on a cocktail glass.
  components:
  - type: FlavorProfile
    flavors:
    - tangy
    - shrimp
  - type: Sprite
    layers:
    - state: bowl
    - sprite: _DEN/Objects/Consumable/Food/bowl.rsi # TODO: Shrimp sprite
      state: dinuguan
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 40
        # nutriment: 6u (shrimp) + 6u (bonus) = 12u
        # protein: 10u (shrimp) + 2u (bonus) = 12u
        # plus 10u of cocktail sauce
        # 12 + 12 + 10 = 34u
        reagents:
        - ReagentId: Nutriment
          Quantity: 12
        - ReagentId: Protein
          Quantity: 12
        - ReagentId: CocktailSauce
          Quantity: 10
  - type: Tag
    tags:
    - Meat
