- type: entity
  parent: StoneBase
  id: AdamantineOre
  name: adamantine ore
  description: Within this rock, traces of blue-green shimmer.
  components:
  - type: Sprite
    sprite: _DEN/Unrefined/Objects/Misc/quest_materials.rsi
    state: adamant_ore
  - type: Tag
    tags:
    - MythicOre
  - type: Material
  - type: PhysicalComposition
    materialComposition:
      RawAdamantine: 100
  - type: DamageOtherOnHit
    damage:
      types:
        Blunt: 8
  - type: StaminaDamageOnCollide
    damage: 20
  - type: Megafauna

- type: Tag
  id: MythicOre
    
- type: material
  id: RawAdamantine
  stackEntity: AdamantineOre
  name: materials-adamant-raw
  unit: materials-unit-adamant-raw
  icon: { sprite: _DEN/Unrefined/Objects/Misc/quest_materials.rsi, state: adamant_ore }
  price: 50
  
- type: entity
  parent: IngotBase
  id: IngotAdamantium
  name: adamantine ingot
  components:
  - type: Material
  - type: PhysicalComposition
    materialComposition:
      Adamantine: 100
  - type: Sprite
    state: adamantine
  - type: Appearance
  
- type: material
  id: Adamantine
  stackEntity: IngotAdamantium
  name: materials-adamant
  unit: materials-unit-adamant
  icon: { sprite: Objects/Materials/ingots.rsi, state: adamantine }
  price: 125
  
- type: entity
  name: adamantine edge
  parent: CombatKnife
  id: AdamantineEdge
  description: You feel like you could cut through everything with this.
  components:
  - type: Tag
    tags:
    - GlaiveEdge
  - type: Sprite
    sprite: _DEN/Unrefined/Objects/Weapons/adamantine_edge.rsi
    state: icon
  - type: MeleeWeapon
    wideAnimationRotation: -135
    attackRate: 0.8
    damage:
      types:
        Slash: 16
        Structural: 20
  - type: DamageOtherOnHit
    damage:
      types:
        Slash: 16
        Structural: 20
  - type: Item
    sprite: _DEN/Unrefined/Objects/Weapons/adamantine_edge.rsi
    storedSprite:
      state: icon
      sprite: _DEN/Unrefined/Objects/Weapons/adamantine_edge.rsi # Add storage sprite
    
- type: entity
  parent: BaseItem
  id: BranchMoonlightWood
  name: moonlightwood branch
  description: It thrums with life, even after being felled.
  components:
  - type: Sprite
    sprite: _DEN/Unrefined/Objects/Misc/quest_materials.rsi
    state: moonlightwood_branch
  - type: Item
    sprite: _DEN/Unrefined/Objects/Misc/quest_materials.rsi
    state: moonlightwood_branch
    size: Large
  - type: StaticPrice
    price: 590
  - type: Tag
    tags:
    - Wooden
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: Metallic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 500
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: PointLight
  - type: Construction
    graph: AdamantineGlaive
    node: start
        
- type: entity
  parent: BaseItem
  id: StaffMoonlightWood
  name: moonlightwood staff
  description: Trimmed and carved, the light becomes focused.
  components:
  - type: Tag
    tags:
    - GlaiveShaft
  - type: Sprite
    sprite: _DEN/Unrefined/Objects/Weapons/moonlightwood_staff.rsi
    state: icon
  - type: Item
    size: Huge
    sprite: _DEN/Unrefined/Objects/Weapons/moonlightwood_staff.rsi
    state: icon
  - type: MeleeWeapon
    wideAnimationRotation: 45
    attackRate: 1.0
    range: 1.75
    damage:
      types:
        Blunt: 12
        Holy: 5
    bluntStaminaDamageFactor: 4
    heavyRateModifier: 2
    heavyRangeModifier: 1.75
    heavyDamageBaseModifier: 1.2
    heavyStaminaCost: 0
    maxTargets: 3
    angle: 20
  - type: DamageOtherOnHit
  - type: InteractionVerbs
    allowedVerbs:
    - HugObject
    - KissObject
    - LickObject
  - type: PointLight
  - type: Construction
    graph: AdamantineGlaive
    node: staff
  
- type: entity
  parent: BaseItem
  id: DeepearthEmerald
  name: large pure emerald
  description: Quite possibly the largest beryl you've ever seen, pictures or otherwise.
  components:
  - type: Sprite
    sprite: _DEN/Unrefined/Objects/Misc/quest_materials.rsi
    state: deepearth_emerald
  - type: Item
    sprite: _DEN/Unrefined/Objects/Misc/quest_materials.rsi
    state: deepearth_emerald
    size: Small
  - type: StaticPrice
    price: 25000
  - type: Tag
    tags:
    - GlaiveBinding
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: Metallic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 500
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: PointLight
  
- type: Tag
  id: GlaiveEdge

- type: Tag
  id: GlaiveShaft
  
- type: Tag
  id: GlaiveBinding
  
- type: entity
  name: adamantine glaive
  parent: BaseItem
  id: AdamantineGlaive
  description: An edge forged from adamant. A shaft carved from a holy tree. A binding of precious gemstone. A weapon to split the earth in twain.
  components:
  - type: Sprite
    sprite: _DEN/Unrefined/Objects/Weapons/adamantine_glaive.rsi
    state: icon
  - type: Item
    size: Ginormous
    sprite: _DEN/Unrefined/Objects/Weapons/adamantine_glaive.rsi
    state: icon
  - type: Execution
    doAfterDuration: 4.0
  - type: Sharp
  - type: MeleeWeapon
    wideAnimationRotation: -135
    attackRate: 1.0
    damage:
      types:
        Slash: 16
        Blunt: 10
        Holy: 5
        Structural: 30
    heavyRateModifier: 1.0
    heavyDamageBaseModifier: 1.0
    heavyStaminaCost: 10
    soundHit:
      collection: MetalThud
    angle: 80
    bluntStaminaDamageFactor: 2
    maxTargets: 3
  #- type: EmbeddableProjectile # I wanted it, but alas, occasionally the glaive gets eaten when the object is destroyed.
  #- type: EmbedPassiveDamage    
  - type: DamageOtherOnHit
    damage:
      types:
        Slash: 16
        Blunt: 10
        Holy: 5
        Structural: 30
    staminaCost: 15
  - type: ThrowingAngle
    angle: 225
  - type: LandAtCursor
  - type: Construction
    graph: AdamantineGlaive
    node: glaive
  - type: MeleeRequiresWield
  - type: Wieldable
  - type: PointLight
  - type: Tag
    tags:
      - Pickaxe
  - type: Tool
    qualities:
    - Axing
    - Prying
    - Slicing
  - type: ToolTileCompatible
  - type: Prying
    pryPowered: false
    speedModifier: 1
  - type: MeleeThrowOnHit
    lifetime: 0.1
  - type: Clothing
    quickEquip: false
    slots:
    - back
    - suitStorage
    
    
- type: entity
  name: talon of the earth
  parent: AdamantineGlaive
  id: AdamantineGlaiveBlessed
  description: Blessed by the Hunter. Go forth and overwhelm your enemies.
  components:
  - type: MeleeWeapon
    damage:
      types:
        Slash: 18
        Blunt: 12
        Holy: 10
        Structural: 45
    heavyStaminaCost: 5
    bluntStaminaDamageFactor: 4
    #resistanceBypass: true  # Would likely the most broken part of this
  - type: DamageOtherOnHit
    damage:
      types:
        Slash: 18
        Blunt: 12
        Holy: 10
        Structural: 45
    staminaCost: 10
  #- type: Reflect
  #  reflectProb: 0.10
  #  spread: 90
  - type: MeleeThrowOnHit
    lifetime: 1 # Adjust this according to how painful it is to fight against
  - type: Prying
    pryPowered: true
    speedModifier: 1
  - type: Construction
    graph: AdamantineGlaive
    node: talon

- type: entity
  name: hunter's request
  id: CrypticTextQuest
  suffix: "Quest Info"
  parent: Paper
  components:
  - type: Paper
    content: text-quest-cryptic

- type: entity
  name: hunter's blessing
  parent: BaseItem
  id: HunterBlessing
  description: This mote of the Hunter's essence squirms in your grasp, wanting to chase after fleeing prey.
  components:
  - type: Sprite
    sprite: _DEN/Unrefined/Objects/Misc/quest_materials.rsi
    state: hunter_blessing
  - type: Item
    sprite: _DEN/Unrefined/Objects/Misc/quest_materials.rsi
    state: hunter_blessing
    size: Normal
  - type: Tag
    tags:
    - BlessingHunter
  - type: Material

- type: Tag
  id: BlessingHunter
    
- type: entity
  name: empty offering box
  parent: BaseItem
  id: OfferingBoxEmpty
  description: A simple wooden container for holding offerings to a spirit. This one is empty.
  components:
  - type: Sprite
    sprite: _DEN/Unrefined/Objects/Misc/quest_materials.rsi
    state: offering_box_open
  - type: Item
    sprite: _DEN/Unrefined/Objects/Misc/quest_materials.rsi
    state: offering_box_open
    size: Normal
  - type: Construction
    graph: OfferingBox
    node: start
    
- type: entity
  name: filled offering box
  parent: OfferingBoxEmpty
  id: OfferingBoxFilled
  description: A simple wooden container for holding offerings to a spirit. This one is filled and ready.
  components:
  - type: Sprite
    state: offering_box
  - type: Item
    state: offering_box
    size: Normal
  - type: Tag
    tags:
    - OfferingBox
  - type: Material
  - type: PhysicalComposition
    materialComposition:
      Offering: 100
  - type: Construction
    graph: OfferingBox
    node: filled
    
- type: Tag
  id: OfferingBox
  
- type: Tag
  id: Offering
  
- type: entity
  name: angry skeleton skull
  parent: BaseItem
  id: OfferingSkull
  description: The skull of a now-deanimated skeleton. It could make a good offering.
  components:
  - type: Sprite
    sprite: Mobs/Species/Skeleton/parts.rsi
    state: skull_icon
    scale: 0.5, 0.5
  - type: Item
    sprite: Mobs/Species/Skeleton/parts.rsi
    state: skull_icon
    size: Normal
    scale: 0.5, 0.5
  - type: Tag
    tags:
    - Offering
  - type: Material

- type: entity
  name: wild beast pelt
  parent: BaseItem
  id: OfferingAnimal
  description: This section is too thick for crafting purposes. It could make a good offering.
  components:
  - type: Sprite
    sprite: Objects/Materials/materials.rsi
    state: hide
  - type: Item
    sprite: Objects/Materials/materials.rsi
    state: hide
    size: Normal
  - type: Tag
    tags:
    - Offering
  - type: Material
  
- type: material
  id: Offering
  stackEntity: OfferingBoxFilled
  name: materials-offering
  unit: materials-unit-offering
  icon: { sprite: _DEN/Unrefined/Objects/Misc/quest_materials.rsi, state: offering_box }
  price: 1.5

- type: entity
  parent: BaseItem
  id: DragonhideScales
  name: dragon scales
  description: A well-preserved scrap of extremely hard dragonscale. You'd need a mystical workstation to make something of this.
  components:
  - type: Sprite
    sprite: _DEN/Unrefined/Objects/Misc/quest_materials.rsi
    state: dragonscales
  - type: Item
    sprite: _DEN/Unrefined/Objects/Misc/quest_materials.rsi
    state: dragonscales
    size: Small
  - type: Material
  - type: Tag
    tags:
    - Dragonscale
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: Metallic
  - type: PhysicalComposition
    materialComposition:
      Dragonscale: 100
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 500
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]

- type: Tag
  id: Dragonscale

- type: material
  id: Dragonscale
  stackEntity: DragonhideScales
  name: materials-dragonscales
  unit: materials-unit-dragonscales
  icon: { sprite: _DEN/Unrefined/Objects/Misc/quest_materials.rsi, state: dragonscales }
  price: 15
  
- type: entity
  parent: ClothingSackSurvival
  id: ClothingSackSurvivalBoss
  name: decayed leather sack
  description: The spoils from the fight with the Necromancer.
  components:
  - type: Sprite
    sprite: _DEN/Unrefined/Objects/Clothing/boss_sack.rsi
  - type: EntityTableContainerFill
    containers:
      storagebase: !type:NestedSelector
        tableId: FillLootSackBoss
        
- type: entityTable
  id: FillLootSackBoss
  table: !type:AllSelector
    children:
    - id: DragonhideScales
    - id: DeepearthEmerald
    - id: EssenceEarth
    - id: EssenceBlood
    - id: MaterialBones
       
- type: entity
  id: PinpointerQuest
  parent: PinpointerBase
  name: quest compass
  description: This rugged object points towards the nearest object that catches the Hunter's gaze.
  components:
  - type: Sprite
    noRot: True
    sprite: _DEN/Unrefined/Objects/Tools/compass.rsi
    layers:
    - state: quest_compass
      map: ["enum.PinpointerLayers.Base"]
    - state: pinonnull
      map: ["enum.PinpointerLayers.Screen"]
      shader: unshaded
      visible: false
  - type: Pinpointer
    component: Megafauna
    targetName: fate-imbued entity